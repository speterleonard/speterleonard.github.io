<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Peter Leonard — Portfolio</title>
  <meta name="description" content="Peter Leonard — Senior Systems Administrator" />
  <meta name="theme-color" content="#0f172a" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --card:#0f172a; --muted:#9aa4b2; --accent:#06b6d4; --glass: rgba(255,255,255,0.04);
      --radius:14px; --glass-2: rgba(255,255,255,0.02);
      color-scheme: dark;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      scroll-behavior:smooth;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:linear-gradient(180deg,#04101a 0%, #071827 100%);
      color:#e6eef6;
      line-height:1.45;
      padding:28px;
    }
    a{color:inherit}
    .container{max-width:1100px;margin:0 auto;display:grid;gap:18px}

    header{
      position:sticky; top:16px; z-index:40;
      padding:12px 14px; border-radius:14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      background: rgba(15, 23, 42, 0.72);
      border: 1px solid rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(2,6,23,0.45);
    }
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),#7c3aed);
      display:grid;place-items:center;font-weight:800;color:#042026;font-size:18px;
      box-shadow:0 8px 30px rgba(6,182,212,0.08)
    }
    nav{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    nav a{
      color:var(--muted); text-decoration:none;
      padding:8px 10px; border-radius:10px;
      font-size:14px; line-height:1;
    }
    nav a:hover, nav a.active{color:var(--accent);background:var(--glass-2)}
    a.theme-toggle{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:8px 10px;border-radius:10px}

    section{scroll-margin-top:92px;}
    .card{background:var(--card);padding:18px;border-radius:12px;border:1px solid var(--glass)}
    .muted{color:var(--muted);font-size:14px}
    .pill{display:inline-flex;gap:8px;align-items:center;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);padding:7px 10px;border-radius:999px;color:var(--muted);font-size:13px}
    .btn{
      display:inline-flex;align-items:center;gap:10px;
      background:var(--accent);color:#042026;border-radius:10px;
      padding:10px 14px;font-weight:700;text-decoration:none;
      box-shadow:0 10px 30px rgba(6,182,212,0.12);
      border:none; cursor:pointer;
    }
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:600;padding:8px 12px}

    .hero{
      background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
      padding:24px;border-radius:var(--radius);
      display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:start;
      border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 28px rgba(2,6,23,0.6);
    }
    .hero h1{margin:0;font-size:30px;line-height:1.05}
    .typing{color:var(--accent);font-weight:700}
    .hero p{margin:10px 0 0;color:var(--muted)}
    .cta-row{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .skills{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .skill{background:rgba(255,255,255,0.03);padding:6px 10px;border-radius:999px;font-size:13px;color:var(--muted)}

    .grid-2{display:grid;grid-template-columns:1fr 380px;gap:18px}
    .project-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:12px}
    .project{
      padding:14px;border-radius:10px;
      background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
      cursor:pointer;border:1px solid rgba(255,255,255,0.02)
    }
    .project:hover{border-color:rgba(6,182,212,0.22)}
    .project h4{margin:0 0 6px}

    /* Certificates */
    .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:10px}
    .filters{display:flex;gap:8px;flex-wrap:wrap}
    .filter{
      background:rgba(255,255,255,0.03);
      border:1px solid rgba(255,255,255,0.06);
      padding:7px 10px;border-radius:999px;color:var(--muted);
      cursor:pointer;font-size:13px
    }
    .filter.active{border-color:rgba(6,182,212,0.35);color:#dff9ff}
    .search{min-width:220px;flex:1;max-width:360px}
    input,textarea{
      width:100%;
      background:rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.04);
      color:inherit;padding:10px;border-radius:8px;outline:none
    }
    input:focus,textarea:focus{box-shadow:0 8px 20px rgba(6,182,212,0.06);border-color:rgba(6,182,212,0.14)}
    textarea{min-height:120px;resize:vertical}

    .cert-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-top:12px}
    .cert{
      padding:14px;border-radius:12px;
      background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
      border:1px solid rgba(255,255,255,0.03);
      cursor:pointer;transition:transform .15s ease,border-color .15s ease
    }
    .cert:hover{transform:translateY(-2px);border-color:rgba(6,182,212,0.2)}
    .row{display:flex;gap:12px;align-items:center}
    .badge{
      width:56px;height:56px;border-radius:12px;
      background:rgba(255,255,255,0.03);
      display:grid;place-items:center;overflow:hidden;flex:0 0 auto
    }
    .badge img{width:100%;height:100%;object-fit:contain;padding:8px}
    .title{font-weight:800}
    .tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
    .tag{font-size:12px;color:var(--muted);background:rgba(255,255,255,0.03);padding:4px 8px;border-radius:999px}

    /* Timeline */
    .timeline{display:grid;gap:10px;margin-top:10px}
    .job{padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02)}
    .job h4{margin:0}
    .job .meta{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px;margin-top:4px}
    .job ul{margin:10px 0 0;padding-left:18px;color:#cfe0f0}
    .job li{margin:6px 0}

    /* Modal */
    .modal-backdrop{
      position:fixed;inset:0;background:rgba(3,6,12,0.6);
      display:grid;place-items:center;padding:20px;z-index:60;
      opacity:0;pointer-events:none;transition:opacity .2s
    }
    .modal-backdrop.open{opacity:1;pointer-events:all}
    .modal{
      max-width:920px;width:100%;
      background:linear-gradient(180deg,#071827 0%, #0b1724 100%);
      padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.04)
    }
    .modal .close{float:right;background:transparent;border:none;color:var(--muted);font-size:18px;cursor:pointer}

    footer{display:flex;justify-content:space-between;align-items:center;padding-top:8px;color:var(--muted);font-size:13px}

    /* reveal */
    .reveal{opacity:0;transform:translateY(10px);transition:all .6s cubic-bezier(.2,.9,.3,1)}
    .reveal.visible{opacity:1;transform:none}

    @media (max-width:980px){
      .hero{grid-template-columns:1fr}
      .grid-2{grid-template-columns:1fr}
      .project-grid{grid-template-columns:1fr}
      .cert-grid{grid-template-columns:1fr}
      header{position:static}
      section{scroll-margin-top:20px;}
    }
    @media (max-width:600px){
      body{padding:16px}
    }

    /* light mode */
    :root.light{--card:#ffffff;--muted:#506070;--accent:#0b5682;color-scheme:light}
    body.light{background:linear-gradient(180deg,#f9fbff 0%, #f0f5fb 100%);color:#042026}
    :root.light header{
      background: rgba(255,255,255,0.82);
      border: 1px solid rgba(2,6,23,0.08);
      box-shadow: 0 10px 30px rgba(2,6,23,0.10);
    }
    :root.light a.theme-toggle{border-color:rgba(2,6,23,0.12)}
  </style>
</head>

<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo avatar">
  <img src="assets/profile.jpg" alt="Peter Leonard profile photo" />
</div>
        <div>
          <div style="font-weight:800;font-size:16px">Peter Leonard</div>
          <div class="muted" style="font-size:13px">Senior Systems Engineer</div>
        </div>
      </div>

      <nav aria-label="Main navigation">
        <a href="#home" data-nav class="active">Home</a>
        <a href="#competencies" data-nav>Skills</a>
        <a href="#experience" data-nav>Experience</a>
        <a href="#certificates" data-nav>Certificates</a>
        <a href="#education" data-nav>Education</a>
        <a href="#contact" data-nav>Contact</a>
        <a href="#" id="themeToggle" class="theme-toggle" title="Toggle light/dark" aria-pressed="false">Toggle theme</a>
      </nav>
    </header>

    <!-- HERO -->
    <section class="hero reveal" id="home" aria-label="Intro">
      <div>
        <h1>Hi — I'm Peter. <span class="typing" id="typing"></span></h1>
        <p class="muted">
          Results-driven Senior Systems Engineer with expertise in cloud platforms, automation, and infrastructure management.
        </p>

        <div class="skills">
          <span class="skill">Azure</span>
          <span class="skill">AWS</span>
          <span class="skill">Microsoft 365</span>
          <span class="skill">Terraform</span>
          <span class="skill">PowerShell</span>
          <span class="skill">Python</span>
          <span class="skill">VMware</span>
          <span class="skill">Okta</span>
          <span class="skill">Google Workspace</span>
        </div>

        <div class="cta-row">
          <a class="btn" href="#experience">View experience</a>
          <a class="btn ghost" href="resume.pdf" download>Download resume</a>
          <a class="btn ghost" href="https://www.linkedin.com/in/peter-leonard-35022aa4/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
        </div>
      </div>

      <aside class="card">
        <h3 style="margin:0 0 8px">Quick info</h3>
        <div class="muted">Berlin, Germany</div>
        <div class="muted" style="margin-top:6px">Email: peterleonardmit@gmail.com</div>
        <div class="muted" style="margin-top:6px">Phone: +49-17686499345</div>
        <hr style="border:none;border-top:1px solid var(--glass);margin:12px 0">
        <div class="pill">Acted as IT Ops technical lead (mentored 6 engineers)</div>
      </aside>
    </section>

    <!-- OBJECTIVE / ABOUT -->
    <section class="card reveal" id="about">
      <h3 style="margin:0 0 8px">Objective</h3>
      <p class="muted" style="margin:0">
        Passionate about scalability, reliability, and automation in modern IT environments, with hands-on leadership and mentoring experience. Results-driven Senior Systems Engineer with expertise in cloud platforms, automation, and infrastructure management. Passionate about scalability, reliability, and automation in modern IT environments. For nearly a year, I have been acting as the technical lead for an IT Operations team in the absence of a formal team lead, overseeing and mentoring six IT support engineers while ensuring continuity of service and delivery. Seeking to leverage my experience in cloud infrastructure, security, and team leadership to drive operational excellence.
      </p>
    </section>

    <!-- COMPETENCIES -->
    <section class="card reveal" id="competencies">
      <h3 style="margin:0 0 8px">Core competencies</h3>

      <div class="grid-2" style="margin-top:12px">
        <div class="card" style="background:rgba(255,255,255,0.02)">
          <h4 style="margin:0 0 8px">Platforms & tooling</h4>
          <ul class="muted" style="margin:0;padding-left:18px">
            <li>Cloud: Microsoft Azure, AWS, Microsoft 365, Azure AD (AAD), Google Workspace, Okta, Slack</li>
            <li>Virtualization: VMware vSphere, vRealize Automation, NSX</li>
            <li>DevOps: Terraform, Jenkins, Docker, Kubernetes</li>
            <li>Monitoring: Site24x7, Datadog</li>
          </ul>
        </div>

        <div class="card" style="background:rgba(255,255,255,0.02)">
          <h4 style="margin:0 0 8px">Systems & operations</h4>
          <ul class="muted" style="margin:0;padding-left:18px">
            <li>Scripting: PowerShell, PowerCLI, Python</li>
            <li>OS: Windows Servers, Linux (RHEL, Ubuntu), macOS</li>
            <li>IT Services: Active Directory, DNS, DHCP, Exchange</li>
            <li>Endpoint: Sophos, MS Defender, Intune, SCCM</li>
            <li>Backup/DR: NinjaOne, Acronis, Veeam, ShadowProtect</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section class="card reveal" id="experience">
      <h3 style="margin:0 0 8px">Professional experience</h3>
      <div class="timeline">
        <div class="job">
          <h4>Bonial International GmbH — Berlin</h4>
          <div class="meta">
            <span>Aug 2022 – Present</span>
            <span>•</span>
            <span>Senior System Administrator</span>
          </div>
          <div class="muted" style="margin-top:10px"></div>
        </div>

        <div class="job">
          <h4>CSI Interfusion Inc — Bangalore, India</h4>
          <div class="meta">
            <span>May 2020 – Mar 2022</span>
            <span>•</span>
            <span>Senior System Engineer</span>
            <span>•</span>
            <span>Client: Microsoft</span>
          </div>
          <div class="muted" style="margin-top:10px"></div>
        </div>

        <div class="job">
          <h4>Adventus Singapore Pte Ltd — Singapore</h4>
          <div class="meta">
            <span>Aug 2018 – Jan 2020</span>
            <span>•</span>
            <span>IT Systems Engineer</span>
          </div>
          <div class="muted" style="margin-top:10px"></div>
        </div>

        <div class="job">
          <h4>Cognizant Technology Solutions — Bangalore, India</h4>
          <div class="meta">
            <span>May 2016 – Aug 2018</span>
            <span>•</span>
            <span>Senior Systems Engineer</span>
          </div>
          <div class="muted" style="margin-top:10px"></div>
        </div>
      </div>
    </section>

    <!-- CERTIFICATES -->
    <section class="card reveal" id="certificates">
      <h3 style="margin:0 0 6px">IT certifications</h3>

      <div class="toolbar">
        <div class="filters">
          <button class="filter active" data-filter="all">All</button>
          <button class="filter" data-filter="cloud">Cloud</button>
          <button class="filter" data-filter="security">Security</button>
          <button class="filter" data-filter="virtualization">Virtualization</button>
        </div>
        <div class="search">
          <input id="certSearch" type="search" placeholder="Search certificates (Azure, AWS, VMware…)" />
        </div>
      </div>

      <div class="cert-grid" id="certGrid"></div>
      <div class="muted" id="certEmpty" style="display:none;margin-top:12px">No certificates match your filters.</div>

      <div class="muted" style="margin-top:12px">
      </div>
    </section>

    <!-- EDUCATION -->
    <section class="card reveal" id="education">
      <h3 style="margin:0 0 8px">Education</h3>
      <div class="card" style="background:rgba(255,255,255,0.02)">
        <div style="display:grid;gap:10px">
          <div>
            <div style="font-weight:800">B.Tech (ECE) — Pondicherry University</div>
            <div class="muted">Manakula Vinayagar Institute of Technology · 2015 · 87.40%</div>
          </div>
          <div>
            <div style="font-weight:800">HSC — State Board</div>
            <div class="muted">Seventh Day Adventist Higher Secondary School · 2011 · 88.41%</div>
          </div>
          <div>
            <div style="font-weight:800">SSLC — State Board</div>
            <div class="muted">Seventh Day Adventist Higher Secondary School · 2009 · 92.20%</div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="card reveal" id="contact">
      <h3 style="margin:0 0 8px">Contact</h3>
      <div class="muted" style="margin-bottom:12px">
        Berlin, Germany · peterleonardmit@gmail.com · +49-17686499345 :contentReference[oaicite:26]{index=26}
      </div>

      <div class="grid-2">
        <div class="card" style="background:rgba(255,255,255,0.02)">
          <h4 style="margin:0 0 8px">Links</h4>
          <div class="muted" style="display:grid;gap:8px">
            <div>LinkedIn: <a href="https://www.linkedin.com/in/peter-leonard-35022aa4/" target="_blank" rel="noopener noreferrer">/peter-leonard-35022aa4</a> :contentReference[oaicite:27]{index=27}</div>
            <div>Email: <a href="mailto:peterleonardmit@gmail.com">peterleonardmit@gmail.com</a> :contentReference[oaicite:28]{index=28}</div>
          </div>
        </div>

        <div class="card" style="background:rgba(255,255,255,0.02)">
          <h4 style="margin:0 0 8px">Message me</h4>
          <form id="contactForm" onsubmit="submitForm(event)">
            <input type="text" name="name" placeholder="Your name" required />
            <input type="email" name="email" placeholder="Your email" required />
            <input type="text" name="subject" placeholder="Subject" />
            <textarea name="message" placeholder="Message" required></textarea>

            <div style="display:flex;gap:8px;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-top:8px">
              <button class="btn" type="submit">Send message</button>
              <div class="muted" style="font-size:13px">Mailto fallback (no backend)</div>
            </div>
            <div id="formStatus" class="muted" style="margin-top:8px;display:none"></div>
          </form>
        </div>
      </div>
    </section>

    <footer class="reveal">
      <div>Made with ☕ · <span class="muted">Single-page GitHub Pages</span></div>
      <div>© <span id="year"></span> Peter Leonard</div>
    </footer>
  </div>

  <!-- Shared modal (projects + certs) -->
  <div id="modal" class="modal-backdrop" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document">
      <button class="close" aria-label="Close modal" onclick="closeModal()">✕</button>
      <h3 id="modalTitle"></h3>
      <p id="modalDesc" class="muted" style="margin-top:8px"></p>
      <div id="modalLinks" style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap"></div>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Typing animation
    const typingEl = document.getElementById('typing');
    const phrases = ['Senior Systems Admin', 'Scaling IT Operations', 'Cloud & Infrastructure', 'Workflow Automation', `On-call & Incident Management`, `Zero-Touch Operations`];
    let pi = 0, ci = 0, forward = true;
    function tick(){
      const p = phrases[pi];
      typingEl.textContent = p.slice(0, ci);
      if(forward) { ci++; if(ci > p.length){ forward = false; setTimeout(tick, 900); return; } }
      else { ci--; if(ci < 0){ forward = true; pi = (pi+1)%phrases.length; } }
      setTimeout(tick, forward ? 60 : 30);
    }
    tick();

    // Reveal on scroll
    const observer = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting) e.target.classList.add('visible');
      });
    }, {threshold: 0.12});
    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

    // Active nav highlight (based on scroll)
    const navLinks = [...document.querySelectorAll('nav a[data-nav]')];
    const sections = navLinks
      .map(a => document.querySelector(a.getAttribute('href')))
      .filter(Boolean);

    const navObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          navLinks.forEach(a => a.classList.remove('active'));
          const active = navLinks.find(a => a.getAttribute('href') === '#' + entry.target.id);
          if(active) active.classList.add('active');
        }
      });
    }, {rootMargin: "-45% 0px -50% 0px", threshold: 0.01});
    sections.forEach(s => navObserver.observe(s));

    // Modal helpers
    function openModal(data){
      document.getElementById('modalTitle').textContent = data.title || '';
      document.getElementById('modalDesc').textContent = data.desc || '';
      const links = document.getElementById('modalLinks');
      links.innerHTML = '';
      (data.links||[]).forEach(l=>{
        const el = document.createElement('a');
        el.href = l.url;
        el.target = '_blank';
        el.rel = 'noopener noreferrer';
        el.className = l.primary ? 'btn' : 'btn ghost';
        el.textContent = l.label;
        links.appendChild(el);
      });
      const mb = document.getElementById('modal');
      mb.classList.add('open');
      mb.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(){
      const mb = document.getElementById('modal');
      mb.classList.remove('open');
      mb.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }
    document.getElementById('modal').addEventListener('click', (e)=>{ if(e.target.id==='modal') closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });
    window.closeModal = closeModal;

    // Projects -> modal
    document.querySelectorAll('.project').forEach(el=>{
      el.addEventListener('click', ()=>{
        const data = JSON.parse(el.getAttribute('data-project'));
        openModal(data);
      });
    });

    // Certificates data (from resume list; add proof/verify links as you get them)
    const certs = [
      { title:"Microsoft Certified: Azure Fundamentals (AZ-900)", org:"Microsoft", category:["cloud"], tags:["Azure","Fundamentals"], badge:"assets/badges/az-900.png", desc:"Azure Fundamentals certification.", links:[] },
      { title:"AWS Certified Cloud Practitioner", org:"Amazon Web Services", category:["cloud"], tags:["AWS","Fundamentals"], badge:"assets/badges/aws-cloud-practitioner.png", desc:"AWS Cloud Practitioner certification.", links:[] },
      { title:"Microsoft 365 Certified: Fundamentals", org:"Microsoft", category:["cloud"], tags:["M365","Fundamentals"], badge:"assets/badges/m365-fundamentals.png", desc:"Microsoft 365 Fundamentals certification.", links:[] },
      { title:"Microsoft Certified: Security, Compliance & Identity Fundamentals", org:"Microsoft", category:["security"], tags:["Security","Compliance","Identity"], badge:"assets/badges/sc-900.png", desc:"Security, compliance and identity fundamentals.", links:[] },
      { title:"VMware Certified Professional 2019 – Cloud & Management Automation", org:"VMware", category:["virtualization"], tags:["VMware","Automation"], badge:"assets/badges/vmware-vcp.png", desc:"VMware VCP in cloud & management automation.", links:[] }
    ];

    const certGrid = document.getElementById('certGrid');
    const certEmpty = document.getElementById('certEmpty');
    const certSearch = document.getElementById('certSearch');
    let activeFilter = 'all';

    function renderCerts(){
      const q = (certSearch.value || '').toLowerCase().trim();
      const filtered = certs.filter(c=>{
        const matchesFilter = activeFilter === 'all' || (c.category || []).includes(activeFilter);
        const hay = (c.title + " " + c.org + " " + (c.tags||[]).join(" ") + " " + (c.desc||"")).toLowerCase();
        const matchesQuery = !q || hay.includes(q);
        return matchesFilter && matchesQuery;
      });

      certGrid.innerHTML = "";
      certEmpty.style.display = filtered.length ? "none" : "block";

      filtered.forEach(c=>{
        const el = document.createElement('div');
        el.className = 'cert';
        el.tabIndex = 0;
        el.setAttribute('role','button');

        el.innerHTML = `
          <div class="row">
            <div class="badge" aria-hidden="true">
              ${c.badge ? `<img src="${c.badge}" alt="">` : `<span class="muted" style="font-weight:800">★</span>`}
            </div>
            <div>
              <div class="title">${c.title}</div>
              <div class="muted">${c.org}</div>
            </div>
          </div>
          <div class="tags">
            ${(c.tags||[]).map(t=>`<span class="tag">${t}</span>`).join("")}
          </div>
        `;

        const modalData = {
          title: c.title,
          desc: c.desc || '',
          links: (c.links && c.links.length) ? c.links : [{label:"No proof link yet", url:"#", primary:false}]
        };

        el.addEventListener('click', ()=>openModal(modalData));
        el.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') openModal(modalData); });
        certGrid.appendChild(el);
      });
    }

    document.querySelectorAll('[data-filter]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('[data-filter]').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        activeFilter = btn.getAttribute('data-filter');
        renderCerts();
      });
    });

    certSearch.addEventListener('input', renderCerts);
    renderCerts();

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    if(themeToggle){
      themeToggle.addEventListener('click', (e)=>{
        e.preventDefault();
        document.documentElement.classList.toggle('light');
        document.body.classList.toggle('light');
        const pressed = document.documentElement.classList.contains('light');
        themeToggle.setAttribute('aria-pressed', String(pressed));
      });
    }

    // Contact: mailto fallback
    async function submitForm(e){
      e.preventDefault();
      const form = e.target;
      const data = new FormData(form);
      const status = document.getElementById('formStatus');
      status.style.display = 'block';
      status.textContent = 'Opening mail client…';

      const name = encodeURIComponent(data.get('name') || '');
      const email = encodeURIComponent(data.get('email') || '');
      const subject = encodeURIComponent(data.get('subject') || 'Website contact');
      const message = encodeURIComponent(data.get('message') || '');
      window.location.href =
        `mailto:peterleonardmit@gmail.com?subject=${subject}&body=From:%20${name}%20(${email})%0A%0A${message}`;
    }
  </script>
</body>
</html>
